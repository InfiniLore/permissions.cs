# InfiniLore.Permissions

InfiniLore.Permissions is a lightweight library designed to provide robust and dynamic permission generation through code generation.

## Features

- **Attribute-based Configuration:** Easily annotate your classes and properties with custom attributes to define permission repositories with ease.
- **Automatic Code Generation:** Generate source code for permission repository classes using the `PermissionsStoreGenerator` to streamline permission handling.
- **Flexible Property Management:** Supports various property configurations including static properties and customization of access modifiers.
- **Advanced Naming Options:** Includes features such as prefix parsing, obfuscation, and case formatting for enhanced security and readability.

## Components

### PermissionsStoreGenerator

The main class responsible for generating source code for permission repository classes. 
It operates by registering syntax nodes that qualify as candidates based on the `PermissionsStore` attribute using Roslyn's incremental generator APIs.

### Attributes

- **PermissionsStoreAttribute:** Used to annotate classes that should be considered as permission repositories.
- **PrefixAttribute:** Allows a specified prefix to be attached to permission names, enhancing naming consistency and organization.

## Usage

To integrate InfiniLore.Permissions in your project:

1. Decorate your partial classes with the `PermissionsStoreAttribute` to specify them as target for code generation.
2. Annotate the properties with `PrefixAttribute` if you require prefixing permission names.
3. Build your solution which will trigger the code generator to produce the necessary classes.

### Example

Here's a quick example on how to define a permission repository:
(The use of a static class isn't necessary but is advised)

```csharp
using InfiniLore.Permissions;

[PermissionsStore(GeneratorFlags.ParsePrefix)]
public static partial class Permissions {
    [Prefix("data.user")] public static partial string LorescopesRead { get; }
}
```

Will generate
```csharp
// <auto-generated />
namespace InfiniLore.Permissions.Generators.Sample;

public partial class Permissions {
    public static partial string LorescopesRead { get => "data.user.lorescopes.read"; }
}
```